<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Music Player</title>

    <!-- PWA Meta Tags -->
    <meta
      name="description"
      content="A beautiful music player with playlist support"
    />
    <meta name="theme-color" content="#f44336" />
    <meta name="background-color" content="#1a1b1e" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta
      name="apple-mobile-web-app-status-bar-style"
      content="black-translucent"
    />
    <meta name="apple-mobile-web-app-title" content="Music Player" />
    <meta name="msapplication-TileColor" content="#1a1b1e" />
    <meta name="msapplication-config" content="browserconfig.xml" />

    <!-- Icons and Manifest -->
    <link rel="icon" href="./icons/icon-32x32.png" type="image/png" />
    <link rel="apple-touch-icon" href="./icons/icon-192x192.png" />
    <link rel="manifest" href="./manifest.json" />

    <!-- Fonts and Styles -->
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="player">
      <div class="cover"></div>
      <nav>
        <div class="left">
          <div class="playlist-dropdown">
            <i class="material-icons menu-icon">menu</i>
            <h6>Playlist</h6>
            <div class="dropdown-content">
              <div class="dropdown-item" data-playlist="all">
                <i class="material-icons">music_note</i>
                <span>All Songs</span>
              </div>
              <div class="dropdown-item" data-playlist="bangla">
                <i class="material-icons">language</i>
                <span>Bangla</span>
              </div>
              <div class="dropdown-item" data-playlist="english">
                <i class="material-icons">language</i>
                <span>English</span>
              </div>
              <div class="dropdown-item" data-playlist="hindi">
                <i class="material-icons">language</i>
                <span>Hindi</span>
              </div>
            </div>
          </div>
        </div>
        <div class="right">
          <i class="material-icons search">search</i>
          <i class="material-icons">queue_music</i>
        </div>
      </nav>
      <div class="player-ui">
        <div class="title">
          <h3>Hello</h3>
        </div>
        <div class="small">
          <i class="material-icons replay-btn">replay</i>
          <p>Adele</p>
          <div class="volume-control">
            <i class="material-icons volume-icon">volume_up</i>
            <div class="volume-slider-container">
              <input
                type="range"
                class="volume-slider"
                min="0"
                max="100"
                value="100"
              />
              <span class="volume-value">100%</span>
            </div>
          </div>
        </div>
        <div class="progress">
          <div class="played">
            <div class="circle"></div>
          </div>
        </div>
        <div class="time-display">
          <span class="current-time">0:00</span>
          <span class="duration">0:00</span>
        </div>
        <div class="controls">
          <i class="material-icons">skip_previous</i>
          <i class="material-icons">play_arrow</i>
          <i class="material-icons">skip_next</i>
        </div>
      </div>
      <div class="btn"></div>
      <div class="music">
        <!-- Songs will be dynamically generated here -->
      </div>
    </div>
    <script src="script.js"></script>

    <!-- PWA Service Worker Registration -->
    <script>
      if ("serviceWorker" in navigator) {
        window.addEventListener("load", () => {
          navigator.serviceWorker
            .register("./sw.js")
            .then((registration) => {
              console.log("SW registered: ", registration);
            })
            .catch((registrationError) => {
              console.log("SW registration failed: ", registrationError);
            });
        });
      }

      // Handle PWA install prompt
      let deferredPrompt;
      window.addEventListener("beforeinstallprompt", (e) => {
        e.preventDefault();
        deferredPrompt = e;

        // Show install button or notification
        console.log("PWA install prompt available");

        // You can add a custom install button here
        // showInstallButton();
      });

      // Handle PWA installed
      window.addEventListener("appinstalled", (evt) => {
        console.log("PWA was installed");
        deferredPrompt = null;
      });
    </script>
  </body>
</html>
